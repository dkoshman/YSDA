name: "Catboost aggregator"
model:
  class_name: CatboostMovieLens100kFeatureAggregatorFromArtifacts
#  class_name: CatboostAggregatorFromArtifacts
  recommender_artifacts: [svd:latest, my_mf_slim:latest]
  lit_modules: [MovieLensNonGradientRecommender, MovieLensMFRecommender]
  movielens_directory: local/ml-100k
  cb_fit_n_users_per_batch: 1000
  cb_params:
    task_type: GPU
    devices: [0, 1] # CUDA_DEVICE_ORDER=PCI_BUS_ID CUDA_VISIBLE_DEVICES=0,1
#    gpu_ram_part: 0.2
#    loss_function: QueryCrossEntropy
#    iterations: 10
#    depth: 3
#    gpu_cat_features_storage: CpuPinnedMemory
lightning_module:
  class_name: MovieLensNonGradientRecommender
trainer:
  num_sanity_val_steps: 0
  max_epochs: -1
callbacks:
  CatBoostMetrics:
    plot_dependence: true
  WandbCheckpointCallback:
    artifact_name: catboost_aggregator
